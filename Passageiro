package com.easytravel;

import java.util.Scanner;
import com.easytravel.tratamentoexcecoes.*;

public class Passageiro {
    private String nome;
    private String cpf;

    //construtores
    public Passageiro(){
    }

    //getters e setters
    public String getNome() {
        return nome;
    }

    public void setNome(String nome) {
        this.nome = nome;
    }

    public String getCpf() {
        return cpf;
    }

    public void setCpf(String cpf) {
        this.cpf = cpf;
    }

    //métodos
    public boolean ValidaCpf(String cpf) {
        //String cpf = cpf;
        String numString = "";
        int soma = 0;
        int resultado = 0;

        if(cpf.length() != 11) {
            return false;
        }
        
        for (int i = 0;i < 9;i++) {
            numString = (cpf.substring(i,i+1));
            soma += (Integer.parseInt(numString)*(10 -i));
        }
        
        resultado = (11 - (soma % 11));
        
        if (resultado == 10 || resultado == 11) {
            resultado = 0;
        }
        
        if (resultado != Integer.parseInt(cpf.substring(9,10))) {
            return false;
        }
        
        soma = 0;
        
        for (int i = 0;i < 10; i++) {
            numString = (cpf.substring(i,i+1));
            soma = (Integer.parseInt(numString) * (11 - i));
        }
        
        resultado = (11 - (soma % 11));
        
        if (resultado == 10 || resultado == 11) {
            resultado = 0;
        }
        
        if (resultado != Integer.parseInt(cpf.substring(10,11))) {
            return false;
        }
    
        return true;
    
    }

    public void cadastroPassageiro(){
        Scanner leituraPassageiro = new Scanner(System.in);
        System.out.print("\nNome: ");
        setNome(leituraPassageiro.next());
        System.out.print("CPF: ");
        String cpf = leituraPassageiro.next();
        do {
            if (ValidaCpf(cpf)) {
                setCpf(cpf);
            } else {
                System.out.println("CPF inválido!");
                System.out.print("CPF: ");
                cpf = leituraPassageiro.next();
                if (ValidaCpf(cpf)) {
                    setCpf(cpf);
                }
            }
        } while (!ValidaCpf(cpf));
    }

    public void imprimePassageiro(){
        System.out.print("\nNome: " + getNome() +
                "\nCPF: " + getCpf());
    }
}
