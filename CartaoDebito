package com.easytravel;

import java.util.Scanner;
import com.easytravel.tratamentoexcecoes.*;

public class CartaoDebito extends Cartao {
    private float saldo;

    //construtores
    public CartaoDebito() {
    }

    //getters e setters
    public float getSaldo() {
        return saldo;
    }

    public void setSaldo(float saldo) {
        this.saldo = saldo;
    }

    //métodos
    @Override
    public void cadastroCartao() {
        Scanner leituraCartaoDebito = new Scanner(System.in);
        System.out.print("\nInsira o número do cartão: ");
        super.setNumeroCartao(leituraCartaoDebito.next());
        System.out.print("Insira o limite: ");
        setSaldo(leituraCartaoDebito.nextFloat());
    }

    @Override
    public void imprimeDadosCartao() {
        System.out.print("\n*** Dados do Cartão de Crédito ***" +
                "\nÚltimos 4 números: " + super.getNumeroCartao().substring(12) +
                "\nSaldo: R$ " + this.getSaldo());
    }

    @Override
    public void pagamentoCartao(float totalCarrinho) {
        if(totalCarrinho < saldo){
            this.setSaldo(getSaldo() - totalCarrinho);
            System.out.println("\n\nCompra efetuada com sucesso! O saldo agora é R$ " + getSaldo());
            super.setValidacaoCompra(true);
        }
        else{
            System.out.println("\n\nDesculpe, você não tem saldo o suficiente para essa compra :(");
            super.setValidacaoCompra(false);
        }
    }
}
